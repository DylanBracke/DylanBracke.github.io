<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Form control that changes context without warning</title>
  <link rel="stylesheet" href="../../../../assets/stylesheets/tests.css">
</head>
<body>
  <h1>Form control that changes context without warning</h1>
  <form>
    <label>
      <span>Choose your preferred language:</span>
      <select id="language-select">
        <option value="english">English</option>
        <option value="spanish">Spanish</option>
        <option value="french">French</option>
      </select>
    </label>
  </form>
  <p>This form control changes the language of the page without warning or explanation, which can be disorienting for some users.</p>
  <p>The current language is: <span id="current-language">English</span></p>
  
  <script>
    const languageSelect = document.getElementById('language-select');
    const currentLanguage = document.getElementById('current-language');
    
    languageSelect.addEventListener('change', function() {
      const selectedValue = this.value;
      if (selectedValue === 'spanish') {
        document.documentElement.lang = 'es';
        currentLanguage.innerText = 'Spanish';
      } else if (selectedValue === 'french') {
        document.documentElement.lang = 'fr';
        currentLanguage.innerText = 'French';
      } else {
        document.documentElement.lang = 'en';
        currentLanguage.innerText = 'English';
      }
    });
  </script>
</body>
</html>

